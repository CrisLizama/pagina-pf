---
interface Props {
  name: string;
  price: string;
  description: string;
  features: string[];
  isPopular?: boolean;
  planId: string; // ID único para Mercado Pago
}

const { name, price, description, features, isPopular = false, planId } = Astro.props;
---

<div class={`pricing-card ${isPopular ? 'popular' : ''}`}>
  {isPopular && <div class="badge">MÁS POPULAR</div>}
  
  <div class="card-header">
    <h3 class="plan-name">{name}</h3>
    <p class="plan-description">{description}</p>
  </div>

  <div class="card-price">
    <span class="currency">$</span>
    <span class="amount">{price}</span>
    <span class="period">/mes</span>
  </div>

  <ul class="features-list">
    {features.map((feature) => (
      <li class="feature-item">
        <svg class="check-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        <span>{feature}</span>
      </li>
    ))}
  </ul>

  <div class="card-footer">
    <!-- Aquí irá el botón de React -->
    <slot name="button" />
  </div>
</div>

<style>
  .pricing-card {
    background: white;
    border-radius: 16px;
    padding: 2rem;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
    transition: all 0.3s ease;
    position: relative;
    border: 2px solid transparent;
    display: flex;
    flex-direction: column;
  }

  .pricing-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
  }

  .pricing-card.popular {
    border-color: var(--color-primary);
    transform: scale(1.05);
  }

  .pricing-card.popular:hover {
    transform: scale(1.05) translateY(-8px);
  }

  .badge {
    position: absolute;
    top: -12px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--color-primary);
    color: white;
    padding: 0.5rem 1.5rem;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 700;
    letter-spacing: 0.5px;
  }

  .card-header {
    text-align: center;
    margin-bottom: 1.5rem;
  }

  .plan-name {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--color-secondary);
    margin-bottom: 0.5rem;
  }

  .plan-description {
    font-size: 0.95rem;
    color: #666;
    line-height: 1.5;
  }

  .card-price {
    text-align: center;
    margin-bottom: 2rem;
    padding: 1.5rem 0;
    border-top: 1px solid #e5e5e5;
    border-bottom: 1px solid #e5e5e5;
  }

  .currency {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--color-text);
    vertical-align: top;
  }

  .amount {
    font-size: 3rem;
    font-weight: 800;
    color: var(--color-secondary);
    line-height: 1;
  }

  .period {
    font-size: 1rem;
    color: #666;
    margin-left: 0.25rem;
  }

  .features-list {
    list-style: none;
    margin-bottom: 2rem;
    flex-grow: 1;
  }

  .feature-item {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    margin-bottom: 1rem;
    font-size: 0.95rem;
    line-height: 1.6;
  }

  .check-icon {
    width: 20px;
    height: 20px;
    color: var(--color-primary);
    flex-shrink: 0;
    margin-top: 2px;
  }

  .card-footer {
    margin-top: auto;
  }

  @media (max-width: 768px) {
    .pricing-card.popular {
      transform: scale(1);
    }
    
    .pricing-card.popular:hover {
      transform: translateY(-8px);
    }
  }
</style>