---
import PricingCard from './PricingCard.astro';
import CheckoutButton from './CheckoutButton';
// Datos de los planes
const plans = [
  {
    id: 'plan-basico',
    name: 'Rutina Base',
    price: '10.000',
    description: 'Ideal para comenzar tu transformación',
    features: [
      'Rutina de ejercicios 3 veces por semana',
      'Guía de ejecución de ejercicios',
      'Descarga inmediata en PDF/Excel',
      'Actualizaciones mensuales'
    ],
    isPopular: false
  },
  {
    id: 'plan-personalizado',
    name: 'Planificación Mensual Personalizada',
    price: '60.000',
    description: 'Acompañamiento completo para resultados garantizados',
    features: [
      'Planificación 100% personalizada',
      'Rutina adaptada a tus objetivos',
      'Asesorías ilimitadas por WhatsApp',
      'Evaluación presencial de técnica',
      'Charla de hábitos alimenticios',
      'Seguimiento y ajustes mensuales'
    ],
    isPopular: true
  }
];
---
<section id="planes" class="pricing-section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Elige Tu Plan</h2>
      <p class="section-subtitle">
        Selecciona el plan que mejor se adapte a tus objetivos y estilo de vida
      </p>
    </div>

    <div class="pricing-grid">
      {plans.map((plan) => (
        <PricingCard
          name={plan.name}
          price={plan.price}
          description={plan.description}
          features={plan.features}
          isPopular={plan.isPopular}
          planId={plan.id}
        >
          <CheckoutButton 
            slot="button"
            planId={plan.id}
            planName={plan.name}
            price={parseInt(plan.price.replace('.', ''))}
            client:load
          />
        </PricingCard>
      ))}
    </div>
  </div>
</section>

<style>
  .pricing-section {
    padding: 5rem 0;
    background-color: var(--color-bg-alt);
  }

  .section-header {
    text-align: center;
    max-width: 700px;
    margin: 0 auto 4rem;
  }

  .section-title {
    font-size: clamp(2rem, 4vw, 2.5rem);
    font-weight: 800;
    color: var(--color-secondary);
    margin-bottom: 1rem;
  }

  .section-subtitle {
    font-size: 1.125rem;
    color: #666;
    line-height: 1.7;
  }

  .pricing-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    max-width: 900px;
    margin: 0 auto;
  }

  @media (max-width: 768px) {
    .pricing-section {
      padding: 3rem 0;
    }

    .pricing-grid {
      grid-template-columns: 1fr;
      gap: 2rem;
    }
  }
</style>